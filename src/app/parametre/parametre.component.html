<div class="settings-container">
  <div class="breadcrumb">
    <a routerLink="/dashboard">{{ 'dashboard' | translate }}</a>
    <i class='bx bx-chevron-right'></i>
    <a class="active">{{ 'settings' | translate }}</a>
  </div>

  <div class="settings-grid">
    <!-- Apparence -->
    <div class="settings-card appearance-card">
      <div class="card-header">
        <h2><i class='bx bx-palette'></i> {{ 'appearance' | translate }}</h2>
      </div>
      <div class="card-body">
        <div class="setting-item">
          <div class="setting-info">
            <h3>{{ 'darkMode' | translate }}</h3>
            <p>{{ 'changeAppearance' | translate }}</p>
          </div>
          <div class="setting-control">
            <label class="toggle-switch">
              <input type="checkbox" [checked]="isDarkMode" (change)="toggleDarkMode()">
              <span class="toggle-slider">
                <i class='bx bx-sun light-icon'></i>
                <i class='bx bx-moon dark-icon'></i>
              </span>
            </label>
          </div>
        </div>
      </div>
    </div>

    <!-- Langue -->
    <div class="settings-card language-card">
      <div class="card-header">
        <h2><i class='bx bx-globe'></i> {{ 'language' | translate }}</h2>
      </div>
      <div class="card-body">
        <div class="language-options">
          <div class="language-option" *ngFor="let lang of languages" 
               [class.active]="currentLanguage === lang.code"
               (click)="changeLanguage(lang.code)">
            <span class="lang-flag">{{ lang.flag }}</span>
            <span class="lang-name">{{ lang.name }}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Profil -->
    <div class="settings-card profile-card">
      <div class="card-header">
        <h2><i class='bx bx-user'></i> {{ 'profile' | translate }}</h2>
      </div>
      <div class="card-body">
        <div class="profile-preview">
          <div class="profile-avatar">
            <img src="https://placehold.co/200x200/png" alt="Photo de profil">
            <button class="change-avatar-btn">
              <i class='bx bx-camera'></i>
            </button>
          </div>
          <div class="profile-info">
            <h3>{{ 'doctor' | translate }} {{ medecin?.nom }} {{ medecin?.prenom }}</h3>
            <p class="profile-role">{{ 'generalPractitioner' | translate }}</p>
            <p class="profile-email">{{ medecin?.email }}</p>
          </div>
        </div>
        <div class="profile-actions">
          <button class="btn-primary">
            <i class='bx bx-edit-alt'></i>
            {{ 'editProfile' | translate }}
          </button>
          <button class="btn-secondary" (click)="changePassword()">
            <i class='bx bx-lock-alt'></i>
            {{ 'changePassword' | translate }}
          </button>
        </div>
      </div>
    </div>    
</div> 
